<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grimoire of Variables</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Phaser 3 via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="game-container">
        <!-- Background Layer -->
        <div id="layer-background" class="absolute inset-0 bg-gray-900 -z-10"></div>

        <!-- The Book Container -->
        <div id="book" class="flex relative w-[95%] h-[90%] max-w-[1400px] bg-[#e8dcb5] text-gray-900 border-[15px] border-[#4a3b2a] rounded-lg shadow-2xl">

            <!-- Left Page: Phaser (Visuals) -->
            <div class="page left-page flex-1 border-r-2 border-[#a09070] relative overflow-hidden bg-black">
                <div id="phaser-container" class="w-full h-full"></div>
            </div>

            <!-- Right Page: HTML (Text & Controls) -->
            <div class="page right-page flex-1 p-6 flex flex-col relative overflow-hidden bg-[#f4e4bc]">

                <!-- Story Log -->
                <div id="story-log" class="flex-grow overflow-y-auto mb-4 p-4 font-serif text-lg leading-relaxed border border-[#d0c0a0] bg-white/30 shadow-inner">
                    <div class="log-entry mb-4 text-gray-700 italic">
                        The Grimoire awaits your command...
                    </div>
                </div>

                <!-- Controls -->
                <div id="controls" class="h-[100px] border-t-2 border-[#4a3b2a] pt-4 flex gap-2 justify-center items-center">
                    <button id="btn-turn-page" class="px-6 py-2 bg-[#4a3b2a] text-[#e8dcb5] font-bold rounded shadow hover:bg-[#6a5b4a] transition">
                        Turn Page
                    </button>
                    <button id="btn-inventory" class="px-6 py-2 bg-[#6a5b4a] text-[#e8dcb5] font-bold rounded shadow hover:bg-[#8a7b6a] transition">
                        Inventory
                    </button>
                </div>
            </div>

            <!-- Book Spine/Center Shadow -->
            <div class="absolute left-1/2 top-0 bottom-0 w-[40px] -ml-[20px] bg-gradient-to-r from-transparent via-black/20 to-transparent pointer-events-none z-10"></div>
        </div>

        <!-- API Setup Modal -->
        <div id="layer-setup" class="fixed inset-0 bg-black/90 z-50 flex items-center justify-center">
            <div class="bg-gray-800 p-8 rounded-lg border border-gray-600 text-center max-w-md w-full text-white">
                <h2 class="text-2xl font-bold mb-4 text-[#e8dcb5]">Grimoire Setup</h2>
                <p class="mb-4 text-gray-300">Enter your Google AI Studio API Key to breathe life into this world.</p>
                <input type="password" id="api-key-input" class="w-full p-2 mb-4 bg-gray-700 border border-gray-500 rounded text-white" placeholder="API Key">
                <button id="btn-start-game" class="w-full py-2 bg-[#8e44ad] hover:bg-[#9b59b6] text-white font-bold rounded transition">
                    Enter the Book
                </button>
                <p class="mt-4 text-xs text-gray-500">Keys are stored in localStorage for your convenience.</p>
            </div>
        </div>

    </div>

    <!-- Main Entry Point -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
